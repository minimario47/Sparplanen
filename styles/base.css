/*
╔══════════════════════════════════════════════════════════════════════════════╗
║                    SPÅRPLANNEN - BASE STYLES                                 ║
║         Foundation styles using new design system                            ║
╚══════════════════════════════════════════════════════════════════════════════╝

Applies design system variables to base HTML elements.
Following Anthony Hobday's principles and WCAG 2.1 AA standards.

VERSION: 1.0.0
*/

/* ═══════════════════════════════════════════════════════════════════════════
   CSS RESET & NORMALIZATION
═══════════════════════════════════════════════════════════════════════════ */

*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    -webkit-text-size-adjust: 100%;  /* Prevent font size adjustments on mobile */
    -moz-text-size-adjust: 100%;
    text-size-adjust: 100%;
}

/* ═══════════════════════════════════════════════════════════════════════════
   BODY - Foundation styling with design system
═══════════════════════════════════════════════════════════════════════════ */

body {
    /* Typography from typography.css */
    font-family: var(--font-sans);
    font-size: var(--text-base);          /* 16px minimum (WCAG) */
    font-weight: var(--font-normal);      /* 400 */
    line-height: var(--leading-normal);   /* 1.5 for readability */
    letter-spacing: var(--tracking-normal); /* 0 */
    
    /* Colors from design-system.css - near-black, NOT pure black */
    color: var(--text-primary);           /* #1a1a1a in light mode */
    background-color: var(--surface-primary); /* #fafafa - near-white */
    
    /* Layout */
    margin: 0;
    padding: 0;
    overflow: hidden;
    height: 100vh;
    width: 100vw;
    
    /* User interaction */
    user-select: none;  /* Prevent text selection in UI (not content) */
    -webkit-user-select: none;
    -moz-user-select: none;
    
    /* Font rendering - crisp, beautiful text */
    font-feature-settings: var(--font-feature-settings);  /* "kern" 1, "liga" 1, "calt" 1 */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    
    /* Smooth scrolling (when applicable) */
    scroll-behavior: smooth;
}

/* Allow text selection in content areas */
p,
article,
.selectable {
    user-select: text;
    -webkit-user-select: text;
    -moz-user-select: text;
}

/* ═══════════════════════════════════════════════════════════════════════════
   TEXT SELECTION - Anthony Hobday's rule: primary-200 bg, primary-800 text
═══════════════════════════════════════════════════════════════════════════ */

::selection {
    background: var(--primary-200);  /* Light blue background */
    color: var(--primary-800);       /* Dark blue text for contrast */
}

::-moz-selection {
    background: var(--primary-200);
    color: var(--primary-800);
}

/* Dark mode selection */
[data-theme="dark"] ::selection,
[data-theme="dark"] ::-moz-selection {
    background: var(--primary-700);
    color: var(--primary-100);
}

/* High contrast selection */
[data-theme="high-contrast"] ::selection,
[data-theme="high-contrast"] ::-moz-selection {
    background: #00ffff;
    color: #000000;
}

/* ═══════════════════════════════════════════════════════════════════════════
   FOCUS INDICATORS - WCAG compliant, clear visible focus states
═══════════════════════════════════════════════════════════════════════════ */

.focusable:focus,
button:focus,
a:focus,
input:focus,
select:focus,
textarea:focus {
    outline: none;
    box-shadow: var(--shadow-glow);  /* 0 0 0 3px rgba(59, 130, 246, 0.5) */
}

/* Modern focus-visible (only show for keyboard, not mouse clicks) */
.focusable:focus-visible,
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
    outline: 2px solid var(--border-focus);  /* Solid outline */
    outline-offset: 2px;
    box-shadow: var(--shadow-glow);
}

.focusable:focus:not(:focus-visible),
button:focus:not(:focus-visible),
a:focus:not(:focus-visible) {
    box-shadow: none;
    outline: none;
}

/* ═══════════════════════════════════════════════════════════════════════════
   CUSTOM SCROLLBAR - Styled to match design system
   Uses new color variables with smooth transitions
═══════════════════════════════════════════════════════════════════════════ */

/* Scrollbar sizing */
::-webkit-scrollbar {
    width: 8px;   /* Vertical scrollbar width */
    height: 8px;  /* Horizontal scrollbar height */
}

/* Scrollbar track (background) */
::-webkit-scrollbar-track {
    background: var(--surface-primary);
    border-radius: var(--radius-md);  /* 4px */
}

/* Scrollbar thumb (draggable part) */
::-webkit-scrollbar-thumb {
    background: var(--neutral-300);     /* Subtle grey */
    border-radius: var(--radius-md);
    border: 2px solid var(--surface-primary);  /* Creates padding effect */
    transition: background var(--transition-fast) var(--ease-in-out);
}

/* Scrollbar thumb hover state */
::-webkit-scrollbar-thumb:hover {
    background: var(--neutral-400);     /* Darker on hover */
}

/* Scrollbar thumb active/dragging state */
::-webkit-scrollbar-thumb:active {
    background: var(--neutral-500);
}

/* Scrollbar corner (when both scrollbars present) */
::-webkit-scrollbar-corner {
    background: var(--surface-primary);
}

/* Dark mode scrollbar */
[data-theme="dark"] ::-webkit-scrollbar-track {
    background: var(--surface-primary);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background: var(--neutral-600);
    border-color: var(--surface-primary);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
    background: var(--neutral-500);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:active {
    background: var(--neutral-400);
}

/* ═══════════════════════════════════════════════════════════════════════════
   TYPOGRAPHY ELEMENTS - Apply typography system
═══════════════════════════════════════════════════════════════════════════ */

h1, h2, h3, h4, h5, h6 {
    font-weight: var(--font-semibold);
    line-height: var(--leading-tight);
    color: var(--text-primary);
    margin-bottom: var(--space-4);
}

h1 {
    font-size: var(--text-4xl);        /* 36px */
    letter-spacing: var(--tracking-tight);
}

h2 {
    font-size: var(--text-3xl);        /* 30px */
    letter-spacing: var(--tracking-tight);
}

h3 {
    font-size: var(--text-2xl);        /* 24px */
}

h4 {
    font-size: var(--text-xl);         /* 20px */
}

h5 {
    font-size: var(--text-lg);         /* 18px */
}

h6 {
    font-size: var(--text-base);       /* 16px */
    font-weight: var(--font-medium);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
}

p {
    margin-bottom: var(--space-4);
    max-width: var(--prose-width-base);  /* ~70 characters for readability */
}

a {
    color: var(--text-link);
    text-decoration: none;
    transition: color var(--transition-fast) var(--ease-in-out);
}

a:hover {
    color: var(--text-link-hover);
    text-decoration: underline;
    text-underline-offset: var(--underline-offset);
}

code {
    font-family: var(--font-mono);
    font-size: 0.875em;
    padding: var(--space-0-5) var(--space-1);
    background: var(--neutral-100);
    border-radius: var(--radius-sm);
}

pre {
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    line-height: var(--leading-relaxed);
    padding: var(--space-4);
    background: var(--neutral-100);
    border-radius: var(--radius-md);
    overflow-x: auto;
    margin-bottom: var(--space-4);
}

/* ═══════════════════════════════════════════════════════════════════════════
   LISTS
═══════════════════════════════════════════════════════════════════════════ */

ul,
ol {
    padding-left: var(--space-6);
    margin-bottom: var(--space-4);
}

li {
    margin-bottom: var(--space-2);
}

/* ═══════════════════════════════════════════════════════════════════════════
   HORIZONTAL RULE
═══════════════════════════════════════════════════════════════════════════ */

hr {
    border: none;
    border-top: 1px solid var(--border-primary);
    margin: var(--space-8) 0;
}

/* ═══════════════════════════════════════════════════════════════════════════
   IMAGES & MEDIA
═══════════════════════════════════════════════════════════════════════════ */

img,
video,
svg {
    max-width: 100%;
    height: auto;
    display: block;
}

/* ═══════════════════════════════════════════════════════════════════════════
   ACCESSIBILITY HELPERS
═══════════════════════════════════════════════════════════════════════════ */

/* Screen reader only content */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* Skip to main content link */
.skip-to-main {
    position: absolute;
    left: -9999px;
    z-index: var(--z-tooltip);
    padding: var(--space-4);
    background: var(--surface-elevated);
    color: var(--text-primary);
}

.skip-to-main:focus {
    left: var(--space-4);
    top: var(--space-4);
}

/* ═══════════════════════════════════════════════════════════════════════════
   UTILITY CLASSES
═══════════════════════════════════════════════════════════════════════════ */

.hidden {
    display: none !important;
}

.invisible {
    visibility: hidden !important;
}

.pointer {
    cursor: pointer;
}

.no-select {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
}

.truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* ═══════════════════════════════════════════════════════════════════════════
   PRINT STYLES
═══════════════════════════════════════════════════════════════════════════ */

@media print {
    body {
        background: white;
        color: black;
    }
    
    a {
        text-decoration: underline;
    }
    
    a[href]::after {
        content: " (" attr(href) ")";
    }
}

/*
╔══════════════════════════════════════════════════════════════════════════════╗
║                            DESIGN NOTES                                      ║
╚══════════════════════════════════════════════════════════════════════════════╝

NEAR-BLACK/NEAR-WHITE:
- Body text: #1a1a1a (near-black) - NOT #000000 (pure black)
- Background: #fafafa (near-white) - NOT #ffffff (pure white)
- This reduces eye strain and provides better color harmony

SATURATED NEUTRALS:
- All greys have <5% blue saturation for coherent palette
- Creates subtle, professional tech/railway aesthetic
- Maintains cool temperature throughout

TYPOGRAPHY:
- Minimum body text 16px (WCAG recommendation)
- Line height 1.5 for optimal readability
- Max width ~70 characters for comfortable reading
- Letter spacing adjusted per size (tighter large, wider small)

ACCESSIBILITY:
- All colors meet WCAG AA contrast (4.5:1 text, 3:1 UI)
- Clear focus indicators for keyboard navigation
- Reduced motion support via prefers-reduced-motion
- Screen reader utilities

*/ 